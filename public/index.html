<!doctype html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>jQuery</title>
		<link rel="stylesheet" type="text/css" href="/stylesheets/gunpla.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	</head>	
	<body>
		<h3>
			jQuery를 사용한 데이터베이스 예제 프로그래밍
		</h3>
		<div>
			<table id="result">
				<tr>
					<th>id</th>
					<th>name</th>
					<th>model</th>
					<th>manufacturer</th>
					<th>armor</th>
					<th>height</th>
					<th>weight</th>
				</tr>
				
			</table>
		</div>
		<script>
			$(document).ready(() => {
				//$("h3").click(()=> {
					$.ajax({
						url: "/gunpladb/mechanic/",
						dataType: "json",
						success: (json) => {
							// alert("success")
							// alert(json.length)
							$(".data").remove()
							$.each(json, (index, item) => {
								let tr = '<tr class="data">'
								$.each(item, (key, value) => 
									tr += '<td>' + value + '</td>'
								)
								tr += '</tr>'
								$("#result").append(tr)
							})
						},
						error: (req, status, err) => {
							alert(err)
						}
					})
				//})
			})
		</script>
	</body>
</html>